<!-- 更新资料 -->
<div id="page-wrapper">
  <div class="container-fluid">
    <div class="row bg-title">
      <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
        <h4 class="page-title">修改密码</h4>
      </div>
      <!-- /.col-lg-12 -->
    </div>

    <!-- /.row -->
    <div class="row">
      <!--col-md-offset-3 col-sm-offset-2 col-lg-offset-4-->
      <div class="col-md-6 col-lg-4 col-sm-8 ">
        <form ng-submit="onSubmit(theForm.$valid)" novalidate="novalidate" name="theForm">

          <div class="white-box">
            <div class="row">

              <div class="col-sm-12">
                <div class="form-group" ng-class="{'has-error':!theForm.password.$valid}">
                  <div class="input-group">
                    <span class="input-group-addon">设置密码</span>
                    <input type="password" class="form-control" name="password" id="password" ng-change="checkPassword()" required ng-model="reg.newPassword">
                  </div>
                  <div class="help-block with-errors"></div>
                </div>
              </div>
              <div class="col-sm-12">
                <div class="form-group" ng-class="{'has-error':!theForm.repassword.$valid || !valid.repass}">
                  <div class="input-group">
                    <span class="input-group-addon">确认密码</span>
                    <input type="password" class="form-control" name="repassword" id="repassword" ng-change="checkPassword()" required ng-model="reg.repassword">
                  </div>
                  <div class="help-block with-errors"></div>
                </div>
              </div>
              <div class="form-group" ng-class="{'has-error':!theForm.mobileCode.$valid}">
                <div class="col-sm-12">
                  <div class="input-group">
                    <input type="text" class="form-control" name="mobileCode" required placeholder="验证码" ng-model="reg.mobileCode">
                    <span class="input-group-btn">
                <button type="button" class="btn waves-effect waves-light btn-success" alt="default" ng-click="sendCode()" ng-disabled="!validCodeFlag">{{validCodeText}}</button>
                </span>
                  </div>
                </div>
              </div>

            </div>

            <br>
            <button type="submit" class="btn btn-primary waves-effect waves-light m-r-10" ng-disabled="!(theForm.$valid && valid.repass)">
              <span ng-if="theForm.$valid && valid.repass">修改密码</span>
              <span ng-if="theForm.$invalid">请先完成表单</span>
              <span ng-if="theForm.$valid && !valid.repass">2次密码不一致</span>
              </button>

          </div>
        </form>
      </div>
    </div>
    <!-- /.row -->


  </div>
</div>
